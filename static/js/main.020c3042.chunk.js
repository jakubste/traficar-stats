(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(16),o=a.n(i),l=(a(100),a(20)),c=a(21),s=a(23),m=a(22),u=a(24),d=a(15),h=a.n(d),p=a(59),f=a.n(p),E=a(58),g=a.n(E),b=a(17),v=a.n(b),w=a(42),j=a.n(w),y=a(57),O=a.n(y),k=a(5),z=a.n(k),x=a(41),C=a.n(x),D=a(92),N=a.n(D),F=a(93),M=a.n(F);window.Highcharts=C.a;var A=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.dates;console.log(e);var t=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];e.forEach(function(e){var a=new Date(e),n=(a.getDay()+6)%7,r=Math.floor(a.getHours()/6);t[r][n]+=1});for(var a=[],n=0;n<4;n++)for(var i=0;i<7;i++)a.push([i,n,t[n][i]]);var o={chart:{type:"heatmap",marginTop:40,marginBottom:80,plotBorderWidth:1},title:{text:"U\u017cycie w tygodniu"},xAxis:{categories:["Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota","Niedziela"]},yAxis:{categories:["Rano (0-6)","Przedpo\u0142udnie (6-12)","Popo\u0142udnie (12-18)","Wiecz\xf3r (18-24)"],reversed:!0,title:!1},colorAxis:{min:0,minColor:"#FFFFFF",maxColor:"#941f91",reversed:!1},legend:{align:"right",layout:"vertical",margin:0,verticalAlign:"top",y:25,symbolHeight:280},tooltip:{formatter:function(){return"<b>"+this.series.xAxis.categories[this.point.x]+"</b><br><b>"+this.series.yAxis.categories[this.point.y]+"</b> <br><b>"+this.point.value+"</b> przejazd\xf3w"}},series:[{name:"Reservations per time of day",borderWidth:1,data:a,dataLabels:{enabled:!0,color:"#000000"}}]};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"h6"},"Kiedy je\u017adzi\u0142e\u015b?"),r.a.createElement(N.a,{highcharts:M()(C.a),options:o}))}}]),t}(n.Component),S=z()({})(A),W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.data),a={};return t.forEach(function(e){var t=new Date(e.startDate).getFullYear();a[t]||(a[t]=0),a[t]=a[t]+e.price}),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{variant:"h6"},"Rocznie wyda\u0142e\u015b:"),Object.keys(a).map(function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{variant:"body2 ",inline:!0},e),": ",r.a.createElement(h.a,{inline:!0},Math.round(a[e])," z\u0142"))}))}}]),t}(n.Component),P=z()({child:{flexGrow:1}})(W),B=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data;return r.a.createElement(v.a,{container:!0},r.a.createElement(j.a,{smDown:!0},r.a.createElement(v.a,{item:!0,md:2})),r.a.createElement(v.a,{item:!0,md:8,sm:12,className:t.child},r.a.createElement(v.a,{container:!0,direction:"column"},r.a.createElement(v.a,{item:!0,className:t.child},r.a.createElement(h.a,null,"Og\xf3\u0142em rezerwacji: ",a.totalAmount),r.a.createElement(h.a,null,"Przejecha\u0142e\u015b ",Math.round(a.totalKm,2)," km"),r.a.createElement(h.a,null,"Zap\u0142aci\u0142e\u015b za ",a.reservations.map(function(e){return e.km}).reduce(function(e,t){return e+t})," km"),r.a.createElement(h.a,null,"Zap\u0142aci\u0142e\u015b za: "," ",Math.floor(a.totalMinutes/60/24),"d "," ",Math.floor(a.totalMinutes/60)%24,"h "," ",Math.floor(a.totalMinutes%60),"min")),r.a.createElement(v.a,{item:!0,className:t.child},r.a.createElement(S,{dates:a.reservations.filter(function(e){return"ENDED"===e.status}).map(function(e){return e.startDate})})),r.a.createElement(v.a,{item:!0,className:t.child},r.a.createElement(P,{data:a.reservations.filter(function(e){return"ENDED"===e.status})})))))}}]),t}(n.Component),J=z()({child:{flexGrow:1,padding:5}})(B),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:null,displayStats:!1},a.onDataChange=function(e){console.log(e.target),a.setState({data:e.target.value})},a.handleClick=function(e){a.state.data&&JSON.parse(a.state.data)&&a.setState({displayStats:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.displayStats?r.a.createElement(J,{data:JSON.parse(this.state.data)}):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null),r.a.createElement(v.a,{container:!0},r.a.createElement(j.a,{smDown:!0},r.a.createElement(v.a,{item:!0,md:2})),r.a.createElement(v.a,{item:!0,md:8},r.a.createElement(h.a,{variant:"h6"},r.a.createElement("ol",null,r.a.createElement("li",null,"Zaloguj si\u0119 na stronie"," ",r.a.createElement("a",{href:"https://traficar.pl",target:"_blank",rel:"noopener noreferrer"},"Traficara")),r.a.createElement("li",null,"Otw\xf3rz w przegl\u0105darce stron\u0119"," ",r.a.createElement("a",{href:"https://api.traficar.pl/eaw-rest-api/reservation",target:"_blank",rel:"noopener noreferrer"},"https://api.traficar.pl/eaw-rest-api/reservation")," ","i wklej jej zawarto\u015b\u0107 poni\u017cej:"))),r.a.createElement(g.a,{className:e.jsonInput,multiline:!0,rows:8,id:"reservations",onChange:this.onDataChange}),r.a.createElement(f.a,{variant:"contained",color:"primary",className:e.button,onClick:this.handleClick},"Wygeneruj \u0142adne rzeczy"))))}}]),t}(n.Component),I=z()({jsonInput:{width:"calc(100% - 40px)",margin:20},button:{margin:20}})(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,a){e.exports=a(244)}},[[95,1,2]]]);
//# sourceMappingURL=main.020c3042.chunk.js.map